Information : data

Project name:

Human Activity Recognition Using Smartphones Dataset
Version 1.0

Project conducted by:

Jorge L. Reyes-Ortiz, Davide Anguita, Alessandro Ghio, Luca Oneto.
Smartlab - Non Linear Complex Systems Laboratory
DITEN - Università degli Studi di Genova.
Via Opera Pia 11A, I-16145, Genoa, Italy.
activityrecognition@smartlab.ws
www.smartlab.ws

Project details:

The experiments have been carried out with a group of 30 volunteers within an age bracket of 19-48 years. Each person performed six activities (WALKING, WALKING_UPSTAIRS, WALKING_DOWNSTAIRS, SITTING, STANDING, LAYING) wearing a smartphone (Samsung Galaxy S II) on the waist. Using its embedded accelerometer and gyroscope, we captured 3-axial linear acceleration and 3-axial angular velocity at a constant rate of 50Hz. 

The dataset (UCI HAR Dataset:http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones
) includes the following files:


•	'README.txt'
•	'features_info.txt': Shows information about the variables used on the feature vector
•	'features.txt': List of all features
•	'activity_labels.txt': Links the class labels with their activity name
•	'train/X_train.txt': Training set
•	'train/y_train.txt': Training labels
•	'test/X_test.txt': Test set
•	'test/y_test.txt': Test labels

Project purpose 

Create R script called run_analysis.R that does the following.
•	Merges the training and the test sets to create one data set.
•	Extracts only the measurements on the mean and standard deviation for each measurement.
•	Uses descriptive activity names to name the activities in the data set
•	Appropriately labels the data set with descriptive variable names.
•	From the data set in step 4, creates a second, independent tidy data set with the average of each variable for each activity and each subject.


Code Details [code is highlighted in yellow background]

1)Loading data for analysis 

Variable name 	Description 
dtfeature	Contains feature list from feature.txt
dttest	Contains test data from X_test.txt 
dttestlbl	Contains test activity numbers Y_test.txt
dttestsubject	Contains test subject from subject_test.txt
dttrain	Contains train data from X_train.txt 
dttrainlbl	Contains train activity numbers Y_train.txt
dttrainsubject	Contains train subject from subject_train.txt
dtactivity	Contains activity names from activity_labels.txt

Code :

dtfeature = read.table("./UCI HAR Dataset/features.txt",header = FALSE)
dttest = read.table("./UCI HAR Dataset/test/X_test.txt", header = FALSE)
# rename column with the names extracted from feature.txt
colnames(dttest) = as.character(dtfeature[,2]) 
dttestlbl = read.table("./UCI HAR Dataset/test/Y_test.txt",header = FALSE,col.names = ("activity"))
dttestsubject = read.table("./UCI HAR Dataset/test/subject_test.txt", header = FALSE,col.names = ("subject"))
dttrain = read.table("./UCI HAR Dataset/train/X_train.txt", header = FALSE)
# Rename column with the names extracted from feature.txt
colnames(dttrain) =  as.character(dtfeature[,2])
dttrainlbl = read.table("./UCI HAR Dataset/train/Y_train.txt",header = FALSE,col.names = ("activity"))
dttrainsubject = read.table("./UCI HAR Dataset/train/subject_train.txt", header = FALSE,col.names = ("subject"))
# Collect training pattern 
dtactivity = read.table("./UCI HAR Dataset/activity_labels.txt",header = FALSE, col.names = c("activitynumber","activitynames"))


2) Merging data to create one table 

Variable name	description
dt1test	Create a table of all test data column 1 – subjects , column 2 = activity numbers , column 3 to end = test data 
dt1train	Create a table of all train data column 1 – subjects , column 2 = activity numbers , column 3 to end = train data
dt	Single table of test and train data 

code
# merging test data with activity names and subjects to create a new table 
dt1test = cbind(dttestsubject,dttestlbl,dttest)
# merging train data with activitynames and subjects to create a new table
dt1train = cbind(dttrainsubject,dttrainlbl,dttrain)

# Ans1 : merging test and train data set to create single table 
dt = rbind(dt1test,dt1train)

3) Create a data set with only mean[mean()] and standard deviation [std()]
 
Variable name	description
dt2	Using gerp to search for mean() or std() and extracting the columns  from dt. Adding subject name and activity column to create dt2

# Ans2 :  measurements with mean() & std() are extracted and activity and subject column are appended to create new table 
dt2 = cbind(subject =dt[,1], activity=dt[,2],dt[,grep("mean\\(\\)|std\\(\\)",colnames(dt))])

4) Replace activity numbers with activity names 

Variable name	description
dt3	Create a copy of dt2 and replace activity names from dtactivity 

# Ans3 : replace activity names with the description  
dt3 = dt2
dt3$activity = as.character(dtactivity[dt3$activity,2])

5) Replace activity name with descriptions

Search for short forms and replace them with detailed descriptions 

# Ans4 : label variable names with descriptive names  
names(dt3) = gsub("std\\(\\)", "sd", names(dt3))
names(dt3) = gsub("mean\\(\\)", "mean", names(dt3))
names(dt3) = gsub("^t", "time", names(dt3))
names(dt3) = gsub("^f", "frequency", names(dt3))
names(dt3) = gsub("Acc", "accelerometer", names(dt3))
names(dt3) = gsub("Gyro", "gyroscope", names(dt3))
names(dt3) = gsub("Mag", "magnitude", names(dt3))
names(dt3) = gsub("Body", "body", names(dt3))
names(dt3) = gsub("Gravity", "gravity", names(dt3))
names(dt3) = gsub("bodybody", "body", names(dt3))

6) Create tidy data set with average of for each subject and activity  

Variable name	description
dt4	Group dt3 by activity and subject. Use summarise_each to find mean and save it to dt4

# Ans5 : create tidy data set with the average of each activity and subject 
dt4 = dt3 %>% group_by(activity,subject) %>% summarise_each(funs(mean))


Result

$ activity                                    : chr  "LAYING" "LAYING" "LAYING" "LAYING" ...
 $ subject                                     : int  1 2 3 4 5 6 7 8 9 10 ...
 $ timebodyaccelerometer-mean-X                : num  0.222 0.281 0.276 0.264 0.278 ...
 $ timebodyaccelerometer-mean-Y                : num  -0.0405 -0.0182 -0.019 -0.015 -0.0183 ...
 $ timebodyaccelerometer-mean-Z                : num  -0.113 -0.107 -0.101 -0.111 -0.108 ...
 $ timebodyaccelerometer-sd-X                  : num  -0.928 -0.974 -0.983 -0.954 -0.966 ...
 $ timebodyaccelerometer-sd-Y                  : num  -0.837 -0.98 -0.962 -0.942 -0.969 ...
 $ timebodyaccelerometer-sd-Z                  : num  -0.826 -0.984 -0.964 -0.963 -0.969 ...
 $ timegravityaccelerometer-mean-X             : num  -0.249 -0.51 -0.242 -0.421 -0.483 ...
 $ timegravityaccelerometer-mean-Y             : num  0.706 0.753 0.837 0.915 0.955 ...
 $ timegravityaccelerometer-mean-Z             : num  0.446 0.647 0.489 0.342 0.264 ...
 $ timegravityaccelerometer-sd-X               : num  -0.897 -0.959 -0.983 -0.921 -0.946 ...
 $ timegravityaccelerometer-sd-Y               : num  -0.908 -0.988 -0.981 -0.97 -0.986 ...
 $ timegravityaccelerometer-sd-Z               : num  -0.852 -0.984 -0.965 -0.976 -0.977 ...
 $ timebodyaccelerometerJerk-mean-X            : num  0.0811 0.0826 0.077 0.0934 0.0848 ...
 $ timebodyaccelerometerJerk-mean-Y            : num  0.00384 0.01225 0.0138 0.00693 0.00747 ...
 $ timebodyaccelerometerJerk-mean-Z            : num  0.01083 -0.0018 -0.00436 -0.00641 -0.00304 ...
 $ timebodyaccelerometerJerk-sd-X              : num  -0.958 -0.986 -0.981 -0.978 -0.983 ...
 $ timebodyaccelerometerJerk-sd-Y              : num  -0.924 -0.983 -0.969 -0.942 -0.965 ...
 $ timebodyaccelerometerJerk-sd-Z              : num  -0.955 -0.988 -0.982 -0.979 -0.985 ...
 $ timebodygyroscope-mean-X                    : num  -0.01655 -0.01848 -0.02082 -0.00923 -0.02189 ...
 $ timebodygyroscope-mean-Y                    : num  -0.0645 -0.1118 -0.0719 -0.093 -0.0799 ...
 $ timebodygyroscope-mean-Z                    : num  0.149 0.145 0.138 0.17 0.16 ...
 $ timebodygyroscope-sd-X                      : num  -0.874 -0.988 -0.975 -0.973 -0.979 ...
 $ timebodygyroscope-sd-Y                      : num  -0.951 -0.982 -0.977 -0.961 -0.977 ...
 $ timebodygyroscope-sd-Z                      : num  -0.908 -0.96 -0.964 -0.962 -0.961 ...
 $ timebodygyroscopeJerk-mean-X                : num  -0.107 -0.102 -0.1 -0.105 -0.102 ...
 $ timebodygyroscopeJerk-mean-Y                : num  -0.0415 -0.0359 -0.039 -0.0381 -0.0404 ...
 $ timebodygyroscopeJerk-mean-Z                : num  -0.0741 -0.0702 -0.0687 -0.0712 -0.0708 ...
 $ timebodygyroscopeJerk-sd-X                  : num  -0.919 -0.993 -0.98 -0.975 -0.983 ...
 $ timebodygyroscopeJerk-sd-Y                  : num  -0.968 -0.99 -0.987 -0.987 -0.984 ...
 $ timebodygyroscopeJerk-sd-Z                  : num  -0.958 -0.988 -0.983 -0.984 -0.99 ...
 $ timebodyaccelerometermagnitude-mean         : num  -0.842 -0.977 -0.973 -0.955 -0.967 ...
 $ timebodyaccelerometermagnitude-sd           : num  -0.795 -0.973 -0.964 -0.931 -0.959 ...
 $ timegravityaccelerometermagnitude-mean      : num  -0.842 -0.977 -0.973 -0.955 -0.967 ...
 $ timegravityaccelerometermagnitude-sd        : num  -0.795 -0.973 -0.964 -0.931 -0.959 ...
 $ timebodyaccelerometerJerkmagnitude-mean     : num  -0.954 -0.988 -0.979 -0.97 -0.98 ...
 $ timebodyaccelerometerJerkmagnitude-sd       : num  -0.928 -0.986 -0.976 -0.961 -0.977 ...
 $ timebodygyroscopemagnitude-mean             : num  -0.875 -0.95 -0.952 -0.93 -0.947 ...
 $ timebodygyroscopemagnitude-sd               : num  -0.819 -0.961 -0.954 -0.947 -0.958 ...
 $ timebodygyroscopeJerkmagnitude-mean         : num  -0.963 -0.992 -0.987 -0.985 -0.986 ...
 $ timebodygyroscopeJerkmagnitude-sd           : num  -0.936 -0.99 -0.983 -0.983 -0.984 ...
 $ frequencybodyaccelerometer-mean-X           : num  -0.939 -0.977 -0.981 -0.959 -0.969 ...
 $ frequencybodyaccelerometer-mean-Y           : num  -0.867 -0.98 -0.961 -0.939 -0.965 ...
 $ frequencybodyaccelerometer-mean-Z           : num  -0.883 -0.984 -0.968 -0.968 -0.977 ...
 $ frequencybodyaccelerometer-sd-X             : num  -0.924 -0.973 -0.984 -0.952 -0.965 ...
 $ frequencybodyaccelerometer-sd-Y             : num  -0.834 -0.981 -0.964 -0.946 -0.973 ...
 $ frequencybodyaccelerometer-sd-Z             : num  -0.813 -0.985 -0.963 -0.962 -0.966 ...
 $ frequencybodyaccelerometerJerk-mean-X       : num  -0.957 -0.986 -0.981 -0.979 -0.983 ...
 $ frequencybodyaccelerometerJerk-mean-Y       : num  -0.922 -0.983 -0.969 -0.944 -0.965 ...
 $ frequencybodyaccelerometerJerk-mean-Z       : num  -0.948 -0.986 -0.979 -0.975 -0.983 ...
 $ frequencybodyaccelerometerJerk-sd-X         : num  -0.964 -0.987 -0.983 -0.98 -0.986 ...
 $ frequencybodyaccelerometerJerk-sd-Y         : num  -0.932 -0.985 -0.971 -0.944 -0.966 ...
 $ frequencybodyaccelerometerJerk-sd-Z         : num  -0.961 -0.989 -0.984 -0.98 -0.986 ...
 $ frequencybodygyroscope-mean-X               : num  -0.85 -0.986 -0.97 -0.967 -0.976 ...
 $ frequencybodygyroscope-mean-Y               : num  -0.952 -0.983 -0.978 -0.972 -0.978 ...
 $ frequencybodygyroscope-mean-Z               : num  -0.909 -0.963 -0.962 -0.961 -0.963 ...
 $ frequencybodygyroscope-sd-X                 : num  -0.882 -0.989 -0.976 -0.975 -0.981 ...
 $ frequencybodygyroscope-sd-Y                 : num  -0.951 -0.982 -0.977 -0.956 -0.977 ...
 $ frequencybodygyroscope-sd-Z                 : num  -0.917 -0.963 -0.967 -0.966 -0.963 ...
 $ frequencybodyaccelerometermagnitude-mean    : num  -0.862 -0.975 -0.966 -0.939 -0.962 ...
 $ frequencybodyaccelerometermagnitude-sd      : num  -0.798 -0.975 -0.968 -0.937 -0.963 ...
 $ frequencybodyaccelerometerJerkmagnitude-mean: num  -0.933 -0.985 -0.976 -0.962 -0.977 ...
 $ frequencybodyaccelerometerJerkmagnitude-sd  : num  -0.922 -0.985 -0.975 -0.958 -0.976 ...
 $ frequencybodygyroscopemagnitude-mean        : num  -0.862 -0.972 -0.965 -0.962 -0.968 ...
 $ frequencybodygyroscopemagnitude-sd          : num  -0.824 -0.961 -0.955 -0.947 -0.959 ...
 $ frequencybodygyroscopeJerkmagnitude-mean    : num  -0.942 -0.99 -0.984 -0.984 -0.985 ...
 $ frequencybodygyroscopeJerkmagnitude-sd      : num  -0.933 -0.989 -0.983 -0.983 -0.983 ...

